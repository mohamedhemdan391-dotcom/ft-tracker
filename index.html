<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FT Tracker</title>

<style>
:root{--red:#c40000}
body{
  margin:0;
  font-family:Arial,sans-serif;
  background:#f5f5f5;
  direction:rtl;
}
header{
  background:var(--red);
  color:#fff;
  padding:18px;
  text-align:center;
  font-size:22px;
  font-weight:bold;
}
.container{padding:16px}
.page{display:none}
.page.active{display:block}

.card{
  background:#fff;
  border-radius:18px;
  padding:20px;
  margin-bottom:18px;
  box-shadow:0 6px 16px rgba(0,0,0,.1);
  display:flex;
  align-items:center;
  gap:16px;
  cursor:pointer;
}
.card-icon{
  background:var(--red);
  color:#fff;
  width:60px;
  height:60px;
  border-radius:16px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:30px;
}
.card h3{margin:0}
.card p{margin:4px 0 0;color:#666;font-size:14px}

label{display:block;margin-top:18px;font-weight:bold}
input,textarea{
  width:100%;
  padding:14px;
  margin-top:6px;
  border-radius:12px;
  border:1px solid #ccc;
  font-size:16px;
}
input[readonly]{background:#eee}

.check-row{
  border-bottom:1px solid #eee;
  padding:12px 0;
}
.check-row label{
  display:flex;
  align-items:center;
  justify-content:space-between;
  font-size:16px;
}
.check-row input{
  width:22px;
  height:22px;
}

button{
  width:100%;
  padding:16px;
  border:none;
  border-radius:14px;
  background:var(--red);
  color:#fff;
  font-size:18px;
  cursor:pointer;
  margin-top:20px;
}

.back-top{
  background:var(--red);
  color:#fff;
  padding:10px 16px;
  border-radius:12px;
  display:inline-block;
  margin-bottom:20px;
  cursor:pointer;
  font-size:14px;
}

.success,.error{
  position:fixed;
  inset:0;
  display:none;
  align-items:center;
  justify-content:center;
  font-size:28px;
  color:#fff;
  z-index:999;
}
.success{background:rgba(0,0,0,.6)}
.error{background:rgba(200,0,0,.85)}
</style>
</head>

<body>

<header>FT Tracker</header>

<div class="container">

<!-- HOME -->
<div class="page active" id="home">
  <div class="card" onclick="openPage('daily')">
    <div class="card-icon">ğŸ“‹</div>
    <div>
      <h3>Ø§Ù„ØªØ´ÙŠÙŠÙƒ Ø§Ù„ÙŠÙˆÙ…ÙŠ</h3>
      <p>Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„ÙŠÙˆÙ…ÙŠØ© Ù„Ù„Ù†Ø§Ø¯ÙŠ</p>
    </div>
  </div>

  <div class="card" onclick="openPage('detailed')">
    <div class="card-icon">ğŸ› ï¸</div>
    <div>
      <h3>Ø§Ù„ØªØ´ÙŠÙŠÙƒ Ø§Ù„Ø¯Ù‚ÙŠÙ‚</h3>
      <p>ÙØ­Øµ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© ÙˆØ§Ù„Ù…Ø±Ø§ÙÙ‚</p>
    </div>
  </div>

  <div class="card" onclick="openPage('leads')">
    <div class="card-icon">ğŸ¯</div>
    <div>
      <h3>Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ù…Ø±Ø´Ø­ÙŠÙ†</h3>
      <p>Ø¥Ø¶Ø§ÙØ© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ù…Ø­ØªÙ…Ù„ÙŠÙ†</p>
    </div>
  </div>
</div>

<!-- DAILY -->
<div class="page" id="daily">
  <div class="back-top" onclick="goHome()">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</div>

  <h2>Ø§Ù„ØªØ´ÙŠÙŠÙƒ Ø§Ù„ÙŠÙˆÙ…ÙŠ</h2>

  <label>Ø§Ø³Ù… Ø§Ù„Ù…Ø¯Ø±Ø¨ *</label>
  <input id="d_coach">

  <label>Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„ÙˆÙ‚Øª</label>
  <input id="d_time" readonly>

  <label>Ù…Ù†Ø§Ø·Ù‚ Ø§Ù„ØªØ´ÙŠÙŠÙƒ *</label>
  <div id="areas"></div>

  <label>Ù…Ù„Ø§Ø­Ø¸Ø§Øª</label>
  <textarea id="d_notes"></textarea>

  <button onclick="submitDaily()">Ø¥Ø±Ø³Ø§Ù„</button>
</div>

</div>

<div class="success" id="success">âœ… ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„</div>
<div class="error" id="error">âŒ Ù‚Ù… Ø¨Ø¥Ø¯Ø®Ø§Ù„ ÙƒØ§ÙØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</div>

<script>
function openPage(p){
 document.querySelectorAll('.page').forEach(x=>x.classList.remove('active'));
 document.getElementById(p).classList.add('active');
 if(p==="daily") initDaily();
}
function goHome(){openPage('home')}

function now(){
 return new Date().toLocaleString("en-US");
}

function initDaily(){
 d_time.value = now();
 if(!areas.hasChildNodes()){
  const list=[
   "Dumbbells & Bars",
   "Accessories",
   "Selection Area",
   "Group Classes Area",
   "FTZ Area",
   "TV",
   "Coaches Office"
  ];
  list.forEach(a=>{
   areas.innerHTML+=`
   <div class="check-row">
    <label>
     <input type="checkbox" value="${a}">
     <span>${a}</span>
    </label>
   </div>`;
  });
 }
}

function submitDaily(){
 const checked=[...areas.querySelectorAll("input:checked")].map(x=>x.value);
 if(!d_coach.value || checked.length===0){
  show("error"); return;
 }

 const data=new URLSearchParams();
 data.append("entry.1598276908",d_coach.value);
 data.append("entry.670685014",d_time.value);
 checked.forEach(a=>data.append("entry.793034521",a));
 data.append("entry.987129842",d_notes.value||"Ù„Ø§ ÙŠÙˆØ¬Ø¯");

 fetch(
  "https://docs.google.com/forms/d/e/1FAIpQLSfnfa-TV_a5gQ0qKTvgNRVsPWCLAFBCknL3MSDm3iGBy0kjnQ/formResponse",
  {method:"POST",mode:"no-cors",body:data}
 );

 d_coach.value="";
 d_notes.value="";
 areas.querySelectorAll("input").forEach(x=>x.checked=false);

 show("success");
 setTimeout(goHome,1500);
}

function show(id){
 const el=document.getElementById(id);
 el.style.display="flex";
 setTimeout(()=>el.style.display="none",1500);
}
</script>

</body>
</html>
