<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FT Tracker</title>

<style>
:root{--red:#c40000}
body{margin:0;font-family:Arial;background:#f5f5f5;direction:rtl}
header{background:var(--red);color:#fff;padding:18px;text-align:center;font-size:22px;font-weight:bold}
.container{padding:16px}
.page{display:none}
.page.active{display:block}

.card{
 background:#fff;border-radius:18px;padding:20px;margin-bottom:18px;
 box-shadow:0 6px 16px rgba(0,0,0,.1);
 display:flex;align-items:center;gap:16px;cursor:pointer
}
.card-icon{
 background:var(--red);color:#fff;width:60px;height:60px;
 border-radius:16px;display:flex;align-items:center;justify-content:center;font-size:30px
}

label{display:block;margin-top:16px;font-weight:bold}
input,textarea,select{
 width:100%;padding:14px;margin-top:6px;
 border-radius:12px;border:1px solid #ccc;font-size:16px
}
input[readonly]{background:#eee}

button{
 width:100%;padding:16px;border:none;border-radius:14px;
 background:var(--red);color:#fff;font-size:18px;margin-top:20px;cursor:pointer
}
.back-top{
 background:var(--red);color:#fff;padding:10px 16px;
 border-radius:12px;display:inline-block;margin-bottom:20px;cursor:pointer
}
.success,.error{
 position:fixed;inset:0;display:none;align-items:center;justify-content:center;
 font-size:26px;color:#fff;z-index:999
}
.success{background:rgba(0,0,0,.6)}
.error{background:rgba(180,0,0,.85)}

.device-box,.lead-box{
 border:1px dashed #ccc;padding:12px;border-radius:12px;margin-top:14px
}
.small-btn{
 background:#333;font-size:14px;padding:10px;border-radius:10px
}
</style>
</head>

<body>
<header>FT Tracker</header>

<div class="container">

<!-- HOME -->
<div class="page active" id="home">
 <div class="card" onclick="openPage('daily')">
  <div class="card-icon">ğŸ“‹</div>
  <div><h3>Ø§Ù„ØªØ´ÙŠÙŠÙƒ Ø§Ù„ÙŠÙˆÙ…ÙŠ</h3><p>Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„ÙŠÙˆÙ…ÙŠØ© Ù„Ù„Ù†Ø§Ø¯ÙŠ</p></div>
 </div>

 <div class="card" onclick="openPage('detailed')">
  <div class="card-icon">ğŸ› ï¸</div>
  <div><h3>Ø§Ù„ØªØ´ÙŠÙŠÙƒ Ø§Ù„Ø¯Ù‚ÙŠÙ‚</h3><p>ÙØ­Øµ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© ÙˆØ§Ù„Ù…Ø±Ø§ÙÙ‚</p></div>
 </div>

 <div class="card" onclick="openPage('leads')">
  <div class="card-icon">ğŸ¯</div>
  <div><h3>Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ù…Ø±Ø´Ø­ÙŠÙ†</h3><p>Ø¥Ø¶Ø§ÙØ© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ù…Ø­ØªÙ…Ù„ÙŠÙ†</p></div>
 </div>
</div>

<!-- DAILY (ÙƒÙ…Ø§ Ù‡Ùˆ â€“ Ù„Ù… ÙŠÙÙ…Ø³) -->
<div class="page" id="daily">
 <div class="back-top" onclick="goHome()">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</div>
 <h2>Ø§Ù„ØªØ´ÙŠÙŠÙƒ Ø§Ù„ÙŠÙˆÙ…ÙŠ</h2>
 <!-- Ù†ÙØ³ ÙƒÙˆØ¯Ùƒ Ø§Ù„Ø­Ø§Ù„ÙŠ -->
</div>

<!-- DETAILED -->
<div class="page" id="detailed">
 <div class="back-top" onclick="goHome()">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</div>
 <h2>Ø§Ù„ØªØ´ÙŠÙŠÙƒ Ø§Ù„Ø¯Ù‚ÙŠÙ‚</h2>

 <label>Ø§Ø³Ù… Ø§Ù„Ù…Ø¯Ø±Ø¨ *</label>
 <input id="dc_coach">

 <label>Ø§Ø³Ù… Ø§Ù„ÙØ±Ø¹ *</label>
 <input id="dc_branch">

 <label>Ø­Ø§Ù„Ø© Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© *</label>
 <select id="dc_status" onchange="toggleDevices()">
  <option value="">Ø§Ø®ØªØ±</option>
  <option value="Ø¬ÙŠØ¯Ø©">Ø¬ÙŠØ¯Ø©</option>
  <option value="ÙŠÙˆØ¬Ø¯ ØµÙŠØ§Ù†Ø©">ÙŠÙˆØ¬Ø¯ ØµÙŠØ§Ù†Ø©</option>
 </select>

 <div id="devices" style="display:none">
  <div class="device-box">
   <label>Ø§Ø³Ù… Ø§Ù„Ø¬Ù‡Ø§Ø² *</label>
   <input class="dev_name">
   <label>Ø±Ù‚Ù… Ø§Ù„Ø³ÙŠØ±ÙŠØ§Ù„ *</label>
   <input class="dev_serial">
   <label>Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨ *</label>
   <input class="dev_order">
   <label>Ø´Ø±Ø­ Ø§Ù„Ø¹Ø·Ù„ *</label>
   <textarea class="dev_issue"></textarea>
   <button class="small-btn" onclick="this.parentElement.remove()">ğŸ—‘ Ø­Ø°Ù</button>
  </div>
  <button class="small-btn" onclick="addDevice()">â• Ø¥Ø¶Ø§ÙØ© Ø¬Ù‡Ø§Ø²</button>
 </div>

 <button onclick="submitDetailed()">Ø¥Ø±Ø³Ø§Ù„</button>
</div>

<!-- LEADS -->
<div class="page" id="leads">
 <div class="back-top" onclick="goHome()">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</div>
 <h2>Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ù…Ø±Ø´Ø­ÙŠÙ†</h2>

 <label>Ø§Ø³Ù… Ø§Ù„Ù…Ø¯Ø±Ø¨ *</label>
 <input id="l_coach">

 <label>Ø§Ø³Ù… Ø§Ù„ÙØ±Ø¹ *</label>
 <input id="l_branch">

 <div id="leadList">
  <div class="lead-box">
   <label>Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„ *</label>
   <input class="l_name">
   <label>Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„ *</label>
   <input class="l_phone">
   <button class="small-btn" onclick="this.parentElement.remove()">ğŸ—‘ Ø­Ø°Ù</button>
  </div>
 </div>

 <button class="small-btn" onclick="addLead()">â• Ø¥Ø¶Ø§ÙØ© Ø¹Ù…ÙŠÙ„</button>
 <button onclick="submitLeads()">Ø¥Ø±Ø³Ø§Ù„</button>
</div>

</div>

<div class="success" id="success">âœ… ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„</div>
<div class="error" id="error">âŒ Ù‚Ù… Ø¨Ø¥Ø¯Ø®Ø§Ù„ ÙƒØ§ÙØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</div>

<script>
function openPage(p){
 document.querySelectorAll('.page').forEach(x=>x.classList.remove('active'));
 document.getElementById(p).classList.add('active');
}
function goHome(){openPage('home')}
function show(id){const e=document.getElementById(id);e.style.display="flex";setTimeout(()=>e.style.display="none",1500)}

function toggleDevices(){
 devices.style.display = dc_status.value==="ÙŠÙˆØ¬Ø¯ ØµÙŠØ§Ù†Ø©"?"block":"none";
}

function addDevice(){
 const d=document.createElement("div");
 d.className="device-box";
 d.innerHTML=`
 <label>Ø§Ø³Ù… Ø§Ù„Ø¬Ù‡Ø§Ø² *</label><input class="dev_name">
 <label>Ø±Ù‚Ù… Ø§Ù„Ø³ÙŠØ±ÙŠØ§Ù„ *</label><input class="dev_serial">
 <label>Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨ *</label><input class="dev_order">
 <label>Ø´Ø±Ø­ Ø§Ù„Ø¹Ø·Ù„ *</label><textarea class="dev_issue"></textarea>
 <button class="small-btn" onclick="this.parentElement.remove()">ğŸ—‘ Ø­Ø°Ù</button>`;
 devices.insertBefore(d,devices.lastElementChild);
}

function submitDetailed(){
 if(!dc_coach.value||!dc_branch.value||!dc_status.value){show("error");return}
 document.querySelectorAll(".device-box").forEach(b=>{
  fetch("https://docs.google.com/forms/d/e/1FAIpQLSfW5kklovyvVTCTugqPhqZQQxYdsxxjCqKHlWwWzsFLRyMb6w/formResponse",
  {method:"POST",mode:"no-cors",body:new URLSearchParams({
   "entry.1110574157":dc_coach.value,
   "entry.225813099":dc_branch.value,
   "entry.472300684":new Date().toLocaleString(),
   "entry.1420106518":dc_status.value,
   "entry.1131993998":b.querySelector(".dev_name")?.value||"Ù„Ø§ ÙŠÙˆØ¬Ø¯",
   "entry.1894843047":b.querySelector(".dev_serial")?.value||"Ù„Ø§ ÙŠÙˆØ¬Ø¯",
   "entry.971797645":b.querySelector(".dev_order")?.value||"Ù„Ø§ ÙŠÙˆØ¬Ø¯",
   "entry.95041345":b.querySelector(".dev_issue")?.value||"Ù„Ø§ ÙŠÙˆØ¬Ø¯"
  })});
 });
 show("success");setTimeout(goHome,1500);
}

function addLead(){
 const l=document.createElement("div");
 l.className="lead-box";
 l.innerHTML=`
 <label>Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„ *</label><input class="l_name">
 <label>Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„ *</label><input class="l_phone">
 <button class="small-btn" onclick="this.parentElement.remove()">ğŸ—‘ Ø­Ø°Ù</button>`;
 leadList.appendChild(l);
}

function submitLeads(){
 if(!l_coach.value||!l_branch.value){show("error");return}
 document.querySelectorAll(".lead-box").forEach(b=>{
  fetch("https://docs.google.com/forms/d/e/1FAIpQLSesXlFqpKwTxoMKyNmIJhAkuaZrzIA5KJmYwEM5dpdbZNhZFA/formResponse",
  {method:"POST",mode:"no-cors",body:new URLSearchParams({
   "entry.1803783309":l_coach.value,
   "entry.1531832061":l_branch.value,
   "entry.1038119858":new Date().toLocaleString(),
   "entry.634489457":b.querySelector(".l_name").value,
   "entry.2087664957":b.querySelector(".l_phone").value
  })});
 });
 show("success");setTimeout(goHome,1500);
}
</script>
</body>
</html>
