<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>FT Tracker</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
body{
  margin:0;
  font-family: Arial, sans-serif;
  background:#f4f6f8;
}
header{
  background:#c62828;
  color:#fff;
  text-align:center;
  padding:20px;
}
header h1{margin:5px 0;}
.lang-btn{
  position:absolute;
  left:15px;
  top:15px;
  background:#fff;
  color:#c62828;
  border:none;
  padding:5px 15px;
  border-radius:20px;
  font-weight:bold;
}
.container{padding:20px}
.card{
  background:#fff;
  border-radius:15px;
  padding:15px;
  margin-bottom:15px;
  display:flex;
  align-items:center;
  cursor:pointer;
  box-shadow:0 2px 6px rgba(0,0,0,.1);
}
.card img{
  width:60px;
  height:60px;
  background:#c62828;
  border-radius:15px;
  padding:10px;
  margin-left:15px;
}
.hidden{display:none}
input, textarea, select{
  width:100%;
  padding:12px;
  margin:8px 0;
  border-radius:10px;
  border:1px solid #ccc;
}
.submit{
  background:#1976d2;
  color:#fff;
  border:none;
  padding:15px;
  width:100%;
  border-radius:12px;
  font-size:16px;
}
.back{
  background:#c62828;
  color:#fff;
  border:none;
  padding:10px 15px;
  border-radius:10px;
  margin-bottom:15px;
}
.checkbox-row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:8px 0;
}
.success{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.6);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:999;
}
.success div{
  background:#fff;
  padding:30px;
  border-radius:20px;
  text-align:center;
}
.dashboard-box{
  background:#fff;
  padding:15px;
  border-radius:15px;
  margin-bottom:15px;
}
</style>
</head>

<body>

<header>
<button class="lang-btn" onclick="toggleLang()">EN</button>
<h1>FT Tracker</h1>
</header>

<div class="container">

<!-- HOME -->
<div id="home">
  <div class="card" onclick="show('daily')">
    <img>
    <div>
      <b>التشييك اليومي</b><br>
      متابعة الحالة اليومية للنادي
    </div>
  </div>

  <div class="card" onclick="show('detailed')">
    <img>
    <div>
      <b>التشييك الدقيق</b><br>
      فحص الأجهزة والمرافق
    </div>
  </div>

  <div class="card" onclick="show('leads')">
    <img>
    <div>
      <b>العملاء المرشحين</b><br>
      إضافة بيانات العملاء المحتملين
    </div>
  </div>

  <div class="card" onclick="openDashboard()">
    <img>
    <div>
      <b>Dashboard</b><br>
      التقارير والتحليل
    </div>
  </div>
</div>

<!-- DAILY -->
<div id="daily" class="hidden">
<button class="back" onclick="show('home')">العودة للرئيسية</button>
<h2>التشييك اليومي</h2>
<input placeholder="اسم المدرب" required>
<input readonly id="dailyTime">

<div class="checkbox-row"><span>الدمبلز والبارات</span><input type="checkbox"></div>
<div class="checkbox-row"><span>الاكسسوارات</span><input type="checkbox"></div>
<div class="checkbox-row"><span>Selection</span><input type="checkbox"></div>
<div class="checkbox-row"><span>الحصص الجماعية</span><input type="checkbox"></div>
<div class="checkbox-row"><span>FTZ</span><input type="checkbox"></div>
<div class="checkbox-row"><span>TV</span><input type="checkbox"></div>
<div class="checkbox-row"><span>مكتب المدربين</span><input type="checkbox"></div>

<textarea placeholder="ملاحظات"></textarea>
<button class="submit" onclick="send()">إرسال</button>
</div>

<!-- DETAILED -->
<div id="detailed" class="hidden">
<button class="back" onclick="show('home')">العودة للرئيسية</button>
<h2>التشييك الدقيق</h2>
<input placeholder="اسم المدرب" required>
<input placeholder="اسم الفرع" required>
<input readonly id="detailedTime">
<select onchange="toggleMaintenance(this)">
  <option>جيدة</option>
  <option>صيانة</option>
</select>

<div id="maintenance" class="hidden">
<input placeholder="اسم الجهاز">
<input placeholder="رقم السيريال">
<input placeholder="رقم الطلب">
</div>

<button class="submit" onclick="send()">إرسال</button>
</div>

<!-- LEADS -->
<div id="leads" class="hidden">
<button class="back" onclick="show('home')">العودة للرئيسية</button>
<h2>العملاء المرشحين</h2>
<input placeholder="اسم المدرب" required>
<input readonly id="leadsTime">
<input placeholder="اسم العميل">
<input placeholder="رقم الجوال">
<button class="submit" onclick="send()">إرسال</button>
</div>

<!-- DASHBOARD -->
<div id="dashboard" class="hidden">
<button class="back" onclick="show('home')">العودة للرئيسية</button>

<div class="dashboard-box">
<h3>Daily</h3>
<canvas id="dailyChart"></canvas>
</div>

<div class="dashboard-box">
<h3>Weekly</h3>
<canvas id="weeklyChart"></canvas>
</div>

<div class="dashboard-box">
<h3>Monthly</h3>
<canvas id="monthlyChart"></canvas>
</div>
</div>

</div>

<script>
function show(id){
  document.querySelectorAll('.container > div').forEach(d=>d.classList.add('hidden'));
  document.getElementById(id).classList.remove('hidden');
}

function now(){
  return new Date().toLocaleString();
}
dailyTime.value = detailedTime.value = leadsTime.value = now();

function send(){
  document.body.insertAdjacentHTML("beforeend",
    '<div class="success"><div><h2 style="color:green">✔ تم الإرسال</h2></div></div>');
  setTimeout(()=>{
    document.querySelector('.success').remove();
    show('home');
  },2000);
}

function toggleMaintenance(sel){
  maintenance.classList.toggle('hidden', sel.value !== 'صيانة');
}

function openDashboard(){
  const pass = prompt("أدخل الرقم السري");
  if(pass === "2182"){
    show('dashboard');
    loadCharts();
  } else alert("رقم غير صحيح");
}

function loadCharts(){
  new Chart(dailyChart,{type:'bar',
    data:{labels:['OK','Issues'],datasets:[{data:[8,2],backgroundColor:['green','red']}]}});
  new Chart(weeklyChart,{type:'line',
    data:{labels:['Sat','Sun','Mon','Tue','Wed'],datasets:[{data:[5,6,7,6,8],borderColor:'blue'}]}});
  new Chart(monthlyChart,{type:'pie',
    data:{labels:['Good','Maintenance'],datasets:[{data:[75,25],backgroundColor:['green','orange']}]}});
}

function toggleLang(){
  document.documentElement.lang =
  document.documentElement.lang === 'ar' ? 'en':'ar';
}
</script>

</body>
</html>
