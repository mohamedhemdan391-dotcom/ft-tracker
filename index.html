<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FT Tracker</title>

<style>
:root{--red:#c40000}
body{margin:0;font-family:Arial;background:#f5f5f5;direction:rtl}
header{background:var(--red);color:#fff;padding:18px;text-align:center;font-size:22px;font-weight:bold}
.container{padding:16px}
.page{display:none}
.page.active{display:block}

.card{
 background:#fff;border-radius:18px;padding:20px;margin-bottom:18px;
 box-shadow:0 6px 16px rgba(0,0,0,.1);
 display:flex;align-items:center;gap:16px;cursor:pointer
}
.card-icon{
 background:var(--red);color:#fff;width:60px;height:60px;
 border-radius:16px;display:flex;align-items:center;justify-content:center;font-size:30px
}

label{display:block;margin-top:16px;font-weight:bold}
input,textarea,select{
 width:100%;padding:14px;margin-top:6px;
 border-radius:12px;border:1px solid #ccc;font-size:16px
}
input[readonly]{background:#eee}

button{
 width:100%;padding:16px;border:none;border-radius:14px;
 background:var(--red);color:#fff;font-size:18px;margin-top:20px;cursor:pointer
}
.back-top{
 background:var(--red);color:#fff;padding:10px 16px;
 border-radius:12px;display:inline-block;margin-bottom:20px;cursor:pointer
}
.area-row{
 display:flex;align-items:center;justify-content:space-between;
 padding:10px 0;border-bottom:1px solid #eee
}
.area-row input{width:auto}

.box{
 border:1px dashed #ccc;border-radius:12px;padding:12px;margin-top:12px
}
.row-actions{
 display:flex;gap:10px;margin-top:10px
}
.small-btn{
 background:#666;color:#fff;border:none;padding:8px 14px;
 border-radius:10px;cursor:pointer;font-size:14px
}

.success,.error{
 position:fixed;inset:0;display:none;align-items:center;justify-content:center;
 font-size:26px;color:#fff;z-index:999
}
.success{background:rgba(0,0,0,.6)}
.error{background:rgba(180,0,0,.85)}
</style>
</head>

<body>
<header>FT Tracker</header>

<div class="container">

<!-- HOME -->
<div class="page active" id="home">
 <div class="card" onclick="openPage('daily')">
  <div class="card-icon">ğŸ“‹</div>
  <div><h3>Ø§Ù„ØªØ´ÙŠÙŠÙƒ Ø§Ù„ÙŠÙˆÙ…ÙŠ</h3><p>Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„ÙŠÙˆÙ…ÙŠØ© Ù„Ù„Ù†Ø§Ø¯ÙŠ</p></div>
 </div>

 <div class="card" onclick="openPage('detailed')">
  <div class="card-icon">ğŸ› ï¸</div>
  <div><h3>Ø§Ù„ØªØ´ÙŠÙŠÙƒ Ø§Ù„Ø¯Ù‚ÙŠÙ‚</h3><p>ÙØ­Øµ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© ÙˆØ§Ù„Ù…Ø±Ø§ÙÙ‚</p></div>
 </div>

 <div class="card" onclick="openPage('leads')">
  <div class="card-icon">ğŸ¯</div>
  <div><h3>Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ù…Ø±Ø´Ø­ÙŠÙ†</h3><p>Ø¥Ø¶Ø§ÙØ© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ù…Ø­ØªÙ…Ù„ÙŠÙ†</p></div>
 </div>
</div>

<!-- DAILY (ÙƒÙ…Ø§ Ù‡Ùˆ â€“ Ø¨Ø¯ÙˆÙ† ØªØ¹Ø¯ÙŠÙ„) -->
<div class="page" id="daily">
 <div class="back-top" onclick="goHome()">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</div>
 <h2>Ø§Ù„ØªØ´ÙŠÙŠÙƒ Ø§Ù„ÙŠÙˆÙ…ÙŠ</h2>

 <label>Ø§Ø³Ù… Ø§Ù„Ù…Ø¯Ø±Ø¨ *</label>
 <input id="daily_coach">

 <label>Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„ÙˆÙ‚Øª</label>
 <input readonly id="daily_time">

 <label>Ù…Ù†Ø§Ø·Ù‚ Ø§Ù„ØªØ´ÙŠÙŠÙƒ *</label>
 <div class="area-row"><span>Dumbbells & Bars</span><input type="checkbox" value="Dumbbells & Bars"></div>
 <div class="area-row"><span>Accessories</span><input type="checkbox" value="Accessories"></div>
 <div class="area-row"><span>Selection Area</span><input type="checkbox" value="Selection Area"></div>
 <div class="area-row"><span>Group Classes Area</span><input type="checkbox" value="Group Classes Area"></div>
 <div class="area-row"><span>FTZ Area</span><input type="checkbox" value="FTZ Area"></div>
 <div class="area-row"><span>TV</span><input type="checkbox" value="TV"></div>
 <div class="area-row"><span>Coaches Office</span><input type="checkbox" value="Coaches Office"></div>

 <label>Ù…Ù„Ø§Ø­Ø¸Ø§Øª</label>
 <textarea id="daily_notes"></textarea>

 <button onclick="submitDaily()">Ø¥Ø±Ø³Ø§Ù„</button>
</div>

<!-- DETAILED -->
<div class="page" id="detailed">
 <div class="back-top" onclick="goHome()">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</div>
 <h2>Ø§Ù„ØªØ´ÙŠÙŠÙƒ Ø§Ù„Ø¯Ù‚ÙŠÙ‚</h2>

 <label>Ø§Ø³Ù… Ø§Ù„Ù…Ø¯Ø±Ø¨ *</label>
 <input id="det_coach">

 <label>Ø§Ø³Ù… Ø§Ù„ÙØ±Ø¹ *</label>
 <input id="det_branch">

 <label>Ø­Ø§Ù„Ø© Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© *</label>
 <select id="det_status" onchange="toggleMaintenance()">
  <option value="">Ø§Ø®ØªØ±</option>
  <option value="Ø¬ÙŠØ¯Ø©">Ø¬ÙŠØ¯Ø©</option>
  <option value="ÙŠÙˆØ¬Ø¯ ØµÙŠØ§Ù†Ø©">ÙŠÙˆØ¬Ø¯ ØµÙŠØ§Ù†Ø©</option>
 </select>

 <div id="devices" style="display:none">
 </div>

 <button onclick="addDevice()" id="addDeviceBtn" style="display:none">â• Ø¥Ø¶Ø§ÙØ© Ø¬Ù‡Ø§Ø²</button>
 <button onclick="submitDetailed()">Ø¥Ø±Ø³Ø§Ù„</button>
</div>

<!-- LEADS -->
<div class="page" id="leads">
 <div class="back-top" onclick="goHome()">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</div>
 <h2>Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ù…Ø±Ø´Ø­ÙŠÙ†</h2>

 <label>Ø§Ø³Ù… Ø§Ù„Ù…Ø¯Ø±Ø¨ *</label>
 <input id="lead_coach">

 <div id="leadList"></div>

 <button onclick="addLead()">â• Ø¥Ø¶Ø§ÙØ© Ø¹Ù…ÙŠÙ„</button>
 <button onclick="submitLeads()">Ø¥Ø±Ø³Ø§Ù„</button>
</div>

</div>

<div class="success" id="success">âœ… ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„</div>
<div class="error" id="error">âŒ Ù‚Ù… Ø¨Ø¥Ø¯Ø®Ø§Ù„ ÙƒØ§ÙØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</div>

<script>
function openPage(p){
 document.querySelectorAll('.page').forEach(x=>x.classList.remove('active'));
 document.getElementById(p).classList.add('active');
}
function goHome(){openPage('home')}
daily_time.value=new Date().toLocaleString();

/* DAILY */
function submitDaily(){
 const coach=daily_coach.value.trim();
 const areas=[...document.querySelectorAll(".area-row input:checked")].map(x=>x.value);
 if(!coach||areas.length===0){show("error");return}
 areas.forEach(a=>{
  fetch("https://docs.google.com/forms/d/e/1FAIpQLSfnfa-TV_a5gQ0qKTvgNRVsPWCLAFBCknL3MSDm3iGBy0kjnQ/formResponse",
  {method:"POST",mode:"no-cors",body:new URLSearchParams({
   "entry.1598276908":coach,
   "entry.670685014":daily_time.value,
   "entry.793034521":a,
   "entry.987129842":daily_notes.value||"Ù„Ø§ ÙŠÙˆØ¬Ø¯"
  })});
 });
 daily_coach.value="";daily_notes.value="";
 document.querySelectorAll(".area-row input").forEach(x=>x.checked=false);
 show("success");setTimeout(goHome,1500);
}

/* DETAILED */
function toggleMaintenance(){
 devices.innerHTML="";
 if(det_status.value==="ÙŠÙˆØ¬Ø¯ ØµÙŠØ§Ù†Ø©"){
  devices.style.display="block";
  addDeviceBtn.style.display="block";
  addDevice();
 }else{
  devices.style.display="none";
  addDeviceBtn.style.display="none";
 }
}
function addDevice(){
 const d=document.createElement("div");
 d.className="box";
 d.innerHTML=`
 <label>Ø§Ø³Ù… Ø§Ù„Ø¬Ù‡Ø§Ø² *</label><input class="dn">
 <label>Ø±Ù‚Ù… Ø§Ù„Ø³ÙŠØ±ÙŠØ§Ù„ *</label><input class="ds">
 <label>Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨ *</label><input class="do">
 <label>Ø´Ø±Ø­ Ø§Ù„Ø¹Ø·Ù„ *</label><textarea class="dd"></textarea>
 <div class="row-actions"><button class="small-btn" onclick="this.parentElement.parentElement.remove()">ğŸ—‘ Ø­Ø°Ù</button></div>`;
 devices.appendChild(d);
}
function submitDetailed(){
 if(!det_coach.value||!det_branch.value||!det_status.value){show("error");return}
 if(det_status.value==="ÙŠÙˆØ¬Ø¯ ØµÙŠØ§Ù†Ø©"){
  const boxes=[...document.querySelectorAll("#devices .box")];
  for(let b of boxes){
   if(!b.querySelector(".dn").value||!b.querySelector(".ds").value||
      !b.querySelector(".do").value||!b.querySelector(".dd").value){
     show("error");return;
   }
   fetch("https://docs.google.com/forms/d/e/1FAIpQLSfW5kklovyvVTCTugqPhqZQQxYdsxxjCqKHlWwWzsFLRyMb6w/formResponse",
   {method:"POST",mode:"no-cors",body:new URLSearchParams({
    "entry.1110574157":det_coach.value,
    "entry.225813099":det_branch.value,
    "entry.1420106518":"ÙŠÙˆØ¬Ø¯ ØµÙŠØ§Ù†Ø©",
    "entry.1131993998":b.querySelector(".dn").value,
    "entry.1894843047":b.querySelector(".ds").value,
    "entry.971797645":b.querySelector(".do").value,
    "entry.95041345":b.querySelector(".dd").value
   })});
  }
 }else{
  fetch("https://docs.google.com/forms/d/e/1FAIpQLSfW5kklovyvVTCTugqPhqZQQxYdsxxjCqKHlWwWzsFLRyMb6w/formResponse",
  {method:"POST",mode:"no-cors",body:new URLSearchParams({
   "entry.1110574157":det_coach.value,
   "entry.225813099":det_branch.value,
   "entry.1420106518":"Ø¬ÙŠØ¯Ø©",
   "entry.1131993998":"Ù„Ø§ ÙŠÙˆØ¬Ø¯",
   "entry.1894843047":"Ù„Ø§ ÙŠÙˆØ¬Ø¯",
   "entry.971797645":"Ù„Ø§ ÙŠÙˆØ¬Ø¯",
   "entry.95041345":"Ù„Ø§ ÙŠÙˆØ¬Ø¯"
  })});
 }
 det_coach.value="";det_branch.value="";det_status.value="";
 devices.innerHTML="";devices.style.display="none";addDeviceBtn.style.display="none";
 show("success");setTimeout(goHome,1500);
}

/* LEADS */
function addLead(){
 const l=document.createElement("div");
 l.className="box";
 l.innerHTML=`
 <label>Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„ *</label><input class="ln">
 <label>Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„ *</label><input class="lp">
 <div class="row-actions"><button class="small-btn" onclick="this.parentElement.parentElement.remove()">ğŸ—‘ Ø­Ø°Ù</button></div>`;
 leadList.appendChild(l);
}
addLead();

function submitLeads(){
 if(!lead_coach.value){show("error");return}
 const ls=[...document.querySelectorAll("#leadList .box")];
 for(let l of ls){
  if(!l.querySelector(".ln").value||!l.querySelector(".lp").value){show("error");return}
  fetch("https://docs.google.com/forms/d/e/1FAIpQLSesXlFqpKwTxoMKyNmIJhAkuaZrzIA5KJmYwEM5dpdbZNhZFA/formResponse",
  {method:"POST",mode:"no-cors",body:new URLSearchParams({
   "entry.1803783309":lead_coach.value,
   "entry.634489457":l.querySelector(".ln").value,
   "entry.2087664957":l.querySelector(".lp").value
  })});
 }
 lead_coach.value="";leadList.innerHTML="";addLead();
 show("success");setTimeout(goHome,1500);
}

function show(id){
 const e=document.getElementById(id);
 e.style.display="flex";
 setTimeout(()=>e.style.display="none",1500)
}
</script>
</body>
</html>
