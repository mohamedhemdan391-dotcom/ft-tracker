<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FT Tracker</title>

<style>
body{
  margin:0;
  font-family: Arial, sans-serif;
  background:#f5f5f5;
}
header{
  background:#c62828;
  color:#fff;
  padding:20px;
  text-align:center;
  font-size:28px;
  font-weight:bold;
}
.container{
  padding:20px;
}
.card{
  background:#fff;
  border-radius:14px;
  padding:20px;
  margin-bottom:20px;
  box-shadow:0 4px 10px rgba(0,0,0,.1);
}
.card-btn{
  display:flex;
  align-items:center;
  justify-content:space-between;
  cursor:pointer;
}
.card-btn h3{margin:0}
.btn{
  width:100%;
  background:#1976d2;
  color:#fff;
  padding:14px;
  border:none;
  border-radius:10px;
  font-size:18px;
  cursor:pointer;
}
.back{
  background:#c62828;
  color:#fff;
  padding:10px 14px;
  border-radius:10px;
  border:none;
  margin-bottom:15px;
  cursor:pointer;
}
input,select,textarea{
  width:100%;
  padding:12px;
  margin-top:10px;
  border-radius:10px;
  border:1px solid #ccc;
  font-size:16px;
}
.checkbox-row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  margin:10px 0;
}
.checkbox-row label{
  flex:1;
  font-size:16px;
}
.checkbox-row input{
  width:22px;
  height:22px;
}
.hidden{display:none}

.success{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.6);
  display:none;
  align-items:center;
  justify-content:center;
  color:#fff;
  font-size:26px;
  z-index:9999;
}
.device-box,.lead-box{
  border:1px dashed #ccc;
  padding:10px;
  margin-top:10px;
  border-radius:10px;
}
.small-btn{
  background:#c62828;
  color:#fff;
  border:none;
  padding:6px 10px;
  border-radius:6px;
  margin-top:6px;
  cursor:pointer;
}
.filter button{
  margin:5px;
  padding:6px 10px;
}
</style>
</head>

<body>

<header>FT Tracker</header>

<div class="container">

<!-- Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
<div id="home">
  <div class="card card-btn" onclick="openPage('daily')">
    <h3>ğŸ“‹ Ø§Ù„ØªØ´ÙŠÙŠÙƒ Ø§Ù„ÙŠÙˆÙ…ÙŠ</h3>
  </div>
  <div class="card card-btn" onclick="openPage('detailed')">
    <h3>ğŸ›  Ø§Ù„ØªØ´ÙŠÙŠÙƒ Ø§Ù„Ø¯Ù‚ÙŠÙ‚</h3>
  </div>
  <div class="card card-btn" onclick="openPage('leads')">
    <h3>ğŸ¯ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ù…Ø±Ø´Ø­ÙŠÙ†</h3>
  </div>
  <div class="card card-btn" onclick="openDashboard()">
    <h3>ğŸ“Š Dashboard</h3>
  </div>
</div>

<!-- Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù†Ø¬Ø§Ø­ -->
<div id="success" class="success">âœ“ ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„</div>

<!-- ========== Ø§Ù„ØªØ´ÙŠÙŠÙƒ Ø§Ù„ÙŠÙˆÙ…ÙŠ ========== -->
<div id="daily" class="hidden">
<button class="back" onclick="goHome()">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>

<form action="https://docs.google.com/forms/d/e/FORM_DAILY_ID/formResponse"
method="POST" target="hidden_iframe" onsubmit="return submitForm(this)">
<input name="entry.TRAINER" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø¯Ø±Ø¨" required>
<input name="entry.TIME" id="time1" readonly>

<div class="checkbox-row"><label>Ø§Ù„Ø¯Ù…Ø¨Ù„Ø² ÙˆØ§Ù„Ø¨Ø§Ø±Ø§Øª</label><input type="checkbox" name="entry.AREA" value="Dumbbells"></div>
<div class="checkbox-row"><label>Ø§Ù„Ø§ÙƒØ³Ø³ÙˆØ§Ø±Ø§Øª</label><input type="checkbox" name="entry.AREA" value="Accessories"></div>
<div class="checkbox-row"><label>Selection</label><input type="checkbox" name="entry.AREA" value="Selection"></div>
<div class="checkbox-row"><label>Ø§Ù„Ø­ØµØµ Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠØ©</label><input type="checkbox" name="entry.AREA" value="Classes"></div>
<div class="checkbox-row"><label>FTZ</label><input type="checkbox" name="entry.AREA" value="FTZ"></div>
<div class="checkbox-row"><label>TV</label><input type="checkbox" name="entry.AREA" value="TV"></div>
<div class="checkbox-row"><label>Ù…ÙƒØªØ¨ Ø§Ù„Ù…Ø¯Ø±Ø¨ÙŠÙ†</label><input type="checkbox" name="entry.AREA" value="Office"></div>

<textarea name="entry.NOTES" placeholder="Ù…Ù„Ø§Ø­Ø¸Ø§Øª"></textarea>
<button class="btn">Ø¥Ø±Ø³Ø§Ù„</button>
</form>
</div>

<!-- ========== Ø§Ù„ØªØ´ÙŠÙŠÙƒ Ø§Ù„Ø¯Ù‚ÙŠÙ‚ ========== -->
<div id="detailed" class="hidden">
<button class="back" onclick="goHome()">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>

<form action="https://docs.google.com/forms/d/e/FORM_DETAILED_ID/formResponse"
method="POST" target="hidden_iframe" onsubmit="return submitForm(this)">

<input name="entry.TRAINER" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø¯Ø±Ø¨" required>
<input name="entry.BRANCH" placeholder="Ø§Ø³Ù… Ø§Ù„ÙØ±Ø¹" required>
<input id="time2" name="entry.TIME" readonly>

<select name="entry.STATUS" onchange="toggleDevices(this)" required>
<option value="">Ø§Ø®ØªØ± Ø§Ù„Ø­Ø§Ù„Ø©</option>
<option value="Ø¬ÙŠØ¯Ø©">Ø¬ÙŠØ¯Ø©</option>
<option value="ØµÙŠØ§Ù†Ø©">ØµÙŠØ§Ù†Ø©</option>
</select>

<div id="devices" class="hidden"></div>
<button type="button" class="small-btn" onclick="addDevice()">+ Ø¥Ø¶Ø§ÙØ© Ø¬Ù‡Ø§Ø²</button>

<button class="btn">Ø¥Ø±Ø³Ø§Ù„</button>
</form>
</div>

<!-- ========== Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ù…Ø±Ø´Ø­ÙŠÙ† ========== -->
<div id="leads" class="hidden">
<button class="back" onclick="goHome()">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>

<form action="https://docs.google.com/forms/d/e/FORM_LEADS_ID/formResponse"
method="POST" target="hidden_iframe" onsubmit="return submitForm(this)">

<input name="entry.TRAINER" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø¯Ø±Ø¨" required>
<input id="time3" name="entry.TIME" readonly>

<div id="leadBox"></div>
<button type="button" class="small-btn" onclick="addLead()">+ Ø¥Ø¶Ø§ÙØ© Ø¹Ù…ÙŠÙ„</button>

<button class="btn">Ø¥Ø±Ø³Ø§Ù„</button>
</form>
</div>

<!-- ========== Dashboard ========== -->
<div id="dashboard" class="hidden">
<button class="back" onclick="goHome()">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>

<div class="card">
<div id="dashDate"></div>
<div id="dashTime"></div>
<div id="dashTrainer"></div>
</div>

<div class="filter">
<button onclick="setFilter('day')">ÙŠÙˆÙ…ÙŠ</button>
<button onclick="setFilter('week')">Ø£Ø³Ø¨ÙˆØ¹ÙŠ</button>
<button onclick="setFilter('month')">Ø´Ù‡Ø±ÙŠ</button>
</div>

<div class="card" id="dashData">Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø¹Ø¯</div>
</div>

<iframe name="hidden_iframe" style="display:none"></iframe>

<script>
function openPage(id){
  document.querySelectorAll('.container > div').forEach(d=>d.classList.add('hidden'));
  document.getElementById(id).classList.remove('hidden');
}
function goHome(){
  document.querySelectorAll('.container > div').forEach(d=>d.classList.add('hidden'));
  document.getElementById('home').classList.remove('hidden');
}
function submitForm(form){
  document.getElementById('success').style.display="flex";
  setTimeout(()=>{
    document.getElementById('success').style.display="none";
    form.reset();
    goHome();
  },1500);
  return true;
}
function toggleDevices(sel){
  document.getElementById('devices').classList.toggle('hidden', sel.value!=="ØµÙŠØ§Ù†Ø©");
}
function addDevice(){
  const d=document.createElement('div');
  d.className="device-box";
  d.innerHTML=`
    <input name="entry.DEVICE" placeholder="Ø§Ø³Ù… Ø§Ù„Ø¬Ù‡Ø§Ø²" required>
    <input name="entry.SERIAL" placeholder="Ø±Ù‚Ù… Ø§Ù„Ø³ÙŠØ±ÙŠØ§Ù„" required>
    <input name="entry.ISSUE" placeholder="Ø´Ø±Ø­ Ø§Ù„Ø¹Ø·Ù„" required>
    <input name="entry.ORDER" placeholder="Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨" required>
    <button type="button" class="small-btn" onclick="this.parentElement.remove()">Ø­Ø°Ù</button>
  `;
  devices.appendChild(d);
}
function addLead(){
  const d=document.createElement('div');
  d.className="lead-box";
  d.innerHTML=`
    <input name="entry.CLIENT" placeholder="Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„" required>
    <input name="entry.PHONE" placeholder="Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„" required>
    <button type="button" class="small-btn" onclick="this.parentElement.remove()">Ø­Ø°Ù</button>
  `;
  leadBox.appendChild(d);
}
function openDashboard(){
  const pin=prompt("Ø£Ø¯Ø®Ù„ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø³Ø±ÙŠ");
  if(pin==="2182"){
    openPage('dashboard');
    dashDate.innerText="ğŸ“… "+new Date().toLocaleDateString();
    dashTime.innerText="â° "+new Date().toLocaleTimeString();
    dashTrainer.innerText="ğŸ‘¤ ÙŠØªÙ… Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø¯Ø±Ø¨ÙŠÙ† Ø­Ø³Ø¨ Ø§Ù„ØªØ³Ø¬ÙŠÙ„";
  }
}
function setFilter(f){
  dashData.innerText="Ø¹Ø±Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª: "+f;
}
['time1','time2','time3'].forEach(id=>{
  const el=document.getElementById(id);
  if(el) el.value=new Date().toLocaleString();
});
</script>

</body>
</html>
