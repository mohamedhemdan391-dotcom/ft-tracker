<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FT Tracker</title>

<style>
:root{--red:#c40000;}
body{margin:0;font-family:Arial;background:#f4f4f4}
header{background:var(--red);color:#fff;text-align:center;padding:18px}
.container{padding:16px}
.page{display:none}
.page.active{display:block}
.card{
  background:#fff;border-radius:16px;
  padding:18px;margin-bottom:16px;
  display:flex;align-items:center;gap:16px;
  box-shadow:0 4px 10px rgba(0,0,0,.1);
  cursor:pointer
}
.card-icon{
  width:56px;height:56px;border-radius:14px;
  background:var(--red);color:#fff;
  display:flex;align-items:center;justify-content:center;
  font-size:28px
}
input,textarea,select{
  width:100%;padding:12px;margin:8px 0;
  border-radius:10px;border:1px solid #ccc;font-size:16px
}
button{
  width:100%;padding:14px;
  border:none;border-radius:12px;
  background:var(--red);color:#fff;
  font-size:18px;cursor:pointer;margin-top:10px
}
.back{
  background:#b00000;margin-bottom:10px
}
.area-row{
  display:grid;
  grid-template-columns: 26px 1fr;
  align-items:center;
  padding:10px 0;
  border-bottom:1px solid #eee
}
.area-row label{font-size:17px}
.success,.error{
  position:fixed;inset:0;
  background:rgba(0,0,0,.6);
  display:flex;align-items:center;justify-content:center;
  color:#fff;font-size:28px;z-index:999;display:none
}
.box{
  background:#fff;padding:12px;border-radius:10px;
  margin-top:10px;border:1px dashed #ccc
}
.small{width:auto;padding:8px 12px}
</style>
</head>

<body>

<header>
<h1>FT Tracker</h1>
</header>

<div class="container">

<!-- HOME -->
<div class="page active" id="home">
  <div class="card" onclick="openPage('daily')">
    <div class="card-icon">ğŸ“‹</div>
    <div>
      <b>Ø§Ù„ØªØ´ÙŠÙŠÙƒ Ø§Ù„ÙŠÙˆÙ…ÙŠ</b><br>
      Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„ÙŠÙˆÙ…ÙŠØ© Ù„Ù„Ù†Ø§Ø¯ÙŠ
    </div>
  </div>

  <div class="card" onclick="openPage('detailed')">
    <div class="card-icon">ğŸ› </div>
    <div>
      <b>Ø§Ù„ØªØ´ÙŠÙŠÙƒ Ø§Ù„Ø¯Ù‚ÙŠÙ‚</b><br>
      ÙØ­Øµ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© ÙˆØ§Ù„Ù…Ø±Ø§ÙÙ‚
    </div>
  </div>

  <div class="card" onclick="openPage('leads')">
    <div class="card-icon">ğŸ¯</div>
    <div>
      <b>Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ù…Ø±Ø´Ø­ÙŠÙ†</b><br>
      Ø¥Ø¶Ø§ÙØ© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ù…Ø­ØªÙ…Ù„ÙŠÙ†
    </div>
  </div>
</div>

<!-- DAILY -->
<div class="page" id="daily">
<button class="back" onclick="goHome()">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
<h2>Ø§Ù„ØªØ´ÙŠÙŠÙƒ Ø§Ù„ÙŠÙˆÙ…ÙŠ</h2>

<input id="d_coach" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø¯Ø±Ø¨ *">
<input id="d_time" readonly>

<b>Ù…Ù†Ø§Ø·Ù‚ Ø§Ù„ØªØ´ÙŠÙŠÙƒ *</b>

<div id="areas">
  <div class="area-row"><input type="checkbox" value="Dumbbells & Bars"><label>Ø§Ù„Ø¯Ù…Ø¨Ù„Ø² ÙˆØ§Ù„Ø¨Ø§Ø±Ø§Øª</label></div>
  <div class="area-row"><input type="checkbox" value="Accessories"><label>Ø§Ù„Ø§ÙƒØ³Ø³ÙˆØ§Ø±Ø§Øª</label></div>
  <div class="area-row"><input type="checkbox" value="Selection Area"><label>Selection</label></div>
  <div class="area-row"><input type="checkbox" value="Group Classes Area"><label>Ø§Ù„Ø­ØµØµ Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠØ©</label></div>
  <div class="area-row"><input type="checkbox" value="FTZ Area"><label>FTZ</label></div>
  <div class="area-row"><input type="checkbox" value="TV"><label>TV</label></div>
  <div class="area-row"><input type="checkbox" value="Coaches Office"><label>Ù…ÙƒØªØ¨ Ø§Ù„Ù…Ø¯Ø±Ø¨ÙŠÙ†</label></div>
</div>

<textarea id="d_notes" placeholder="Ù…Ù„Ø§Ø­Ø¸Ø§Øª (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)"></textarea>
<button onclick="sendDaily()">Ø¥Ø±Ø³Ø§Ù„</button>
</div>

<!-- DETAILED -->
<div class="page" id="detailed">
<button class="back" onclick="goHome()">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
<h2>Ø§Ù„ØªØ´ÙŠÙŠÙƒ Ø§Ù„Ø¯Ù‚ÙŠÙ‚</h2>

<input id="dt_coach" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø¯Ø±Ø¨ *">
<input id="dt_branch" placeholder="Ø§Ø³Ù… Ø§Ù„ÙØ±Ø¹ *">
<input id="dt_time" readonly>

<select id="dt_status" onchange="toggleDevices()">
<option value="">Ø­Ø§Ù„Ø© Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© *</option>
<option value="Ø¬ÙŠØ¯Ø©">Ø¬ÙŠØ¯Ø©</option>
<option value="ØµÙŠØ§Ù†Ø©">ØªØ­ØªØ§Ø¬ ØµÙŠØ§Ù†Ø©</option>
</select>

<div id="devices"></div>
<button class="small" onclick="addDevice()">â• Ø¥Ø¶Ø§ÙØ© Ø¬Ù‡Ø§Ø²</button>
<button onclick="sendDetailed()">Ø¥Ø±Ø³Ø§Ù„</button>
</div>

<!-- LEADS -->
<div class="page" id="leads">
<button class="back" onclick="goHome()">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
<h2>Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ù…Ø±Ø´Ø­ÙŠÙ†</h2>

<input id="l_coach" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø¯Ø±Ø¨ *">
<input id="l_branch" placeholder="Ø§Ø³Ù… Ø§Ù„ÙØ±Ø¹ *">
<input id="l_time" readonly>

<div id="leadList"></div>
<button class="small" onclick="addLead()">â• Ø¥Ø¶Ø§ÙØ© Ø¹Ù…ÙŠÙ„</button>
<button onclick="sendLeads()">Ø¥Ø±Ø³Ø§Ù„</button>
</div>

</div>

<div class="success" id="success">âœ… ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„</div>
<div class="error" id="error">âŒ Ù‚Ù… Ø¨Ø¥Ø¯Ø®Ø§Ù„ ÙƒØ§ÙØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</div>

<script>
function openPage(p){
  document.querySelectorAll('.page').forEach(x=>x.classList.remove('active'));
  document.getElementById(p).classList.add('active');
}
function goHome(){openPage('home')}

function now(){return new Date().toLocaleString()}
d_time.value=dt_time.value=l_time.value=now()

function show(el){
  el.style.display='flex';
  setTimeout(()=>{el.style.display='none';goHome()},2000)
}

/* DAILY */
function sendDaily(){
  const coach=d_coach.value.trim()
  const checks=[...areas.querySelectorAll('input:checked')].map(x=>x.value)
  if(!coach||checks.length===0){error.style.display='flex';setTimeout(()=>error.style.display='none',1500);return}

  fetch("https://docs.google.com/forms/d/e/1FAIpQLSfnfa-TV_a5gQ0qKTvgNRVsPWCLAFBCknL3MSDm3iGBy0kjnQ/formResponse",{
    method:"POST",mode:"no-cors",
    body:new URLSearchParams({
      "entry.1598276908":coach,
      "entry.670685014":now(),
      "entry.793034521":checks.join(", "),
      "entry.987129842":d_notes.value
    })
  })
  d_coach.value=d_notes.value=""
  areas.querySelectorAll('input').forEach(x=>x.checked=false)
  show(success)
}

/* DETAILED */
function toggleDevices(){
  devices.innerHTML=""
  if(dt_status.value==="ØµÙŠØ§Ù†Ø©") addDevice()
}
function addDevice(){
  const b=document.createElement("div")
  b.className="box"
  b.innerHTML=`
    <input placeholder="Ø§Ø³Ù… Ø§Ù„Ø¬Ù‡Ø§Ø² *">
    <input placeholder="Ø±Ù‚Ù… Ø§Ù„Ø³ÙŠØ±ÙŠØ§Ù„ *">
    <textarea placeholder="Ø´Ø±Ø­ Ø§Ù„Ø¹Ø·Ù„ *"></textarea>
    <input placeholder="Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨ *">
    <button class="small" onclick="this.parentElement.remove()">ğŸ—‘ Ø­Ø°Ù</button>`
  devices.appendChild(b)
}
function sendDetailed(){
  if(!dt_coach.value||!dt_branch.value||!dt_status.value){error.style.display='flex';setTimeout(()=>error.style.display='none',1500);return}
  show(success)
}

/* LEADS */
function addLead(){
  const b=document.createElement("div")
  b.className="box"
  b.innerHTML=`
    <input placeholder="Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„ *">
    <input placeholder="Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„ *">
    <button class="small" onclick="this.parentElement.remove()">ğŸ—‘ Ø­Ø°Ù</button>`
  leadList.appendChild(b)
}
function sendLeads(){
  if(!l_coach.value||!l_branch.value||leadList.children.length===0){error.style.display='flex';setTimeout(()=>error.style.display='none',1500);return}
  show(success)
}
</script>

</body>
</html>
