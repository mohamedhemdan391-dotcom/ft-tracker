<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FT Tracker</title>

<style>
:root{--red:#c40000}
body{margin:0;font-family:Arial;background:#f5f5f5;direction:rtl}
header{background:var(--red);color:#fff;padding:18px;text-align:center;position:relative}
h1{margin:0}
.container{padding:20px}
.page{display:none}
.page.active{display:block}
.back-btn{
background:var(--red);color:#fff;
padding:10px 16px;border-radius:10px;
display:inline-block;margin-bottom:15px
}
input,textarea{
width:100%;padding:12px;margin:8px 0;
border-radius:8px;border:1px solid #ccc;font-size:15px
}
button{
background:var(--red);color:#fff;border:none;
padding:14px;width:100%;border-radius:10px;font-size:17px
}
.area-list{margin-top:10px}
.area-row{
display:grid;
grid-template-columns:40px 1fr;
align-items:center;
padding:12px 0;
border-bottom:1px solid #e0e0e0
}
.area-row input{width:22px;height:22px}
.success,.error{
position:fixed;inset:0;
background:rgba(0,0,0,.65);
display:none;align-items:center;justify-content:center;
color:#fff;font-size:24px;z-index:999
}
.box{background:#2ecc71;padding:22px;border-radius:14px}
.box.error{background:#c40000}
.card{
background:#fff;border-radius:14px;
padding:18px;margin-bottom:14px;
box-shadow:0 4px 10px rgba(0,0,0,.1);
cursor:pointer
}
</style>
</head>

<body>

<header>
<h1>FT Tracker</h1>
</header>

<div class="container">

<!-- HOME -->
<div class="page active" id="home">
  <div class="card" onclick="openPage('daily')">التشييك اليومي</div>
</div>

<!-- DAILY -->
<div class="page" id="daily">
<div class="back-btn" onclick="goHome()">العودة للرئيسية</div>

<h2>التشييك اليومي</h2>

<label>اسم المدرب *</label>
<input id="coach">

<label>التاريخ والوقت</label>
<input id="datetime" readonly>

<label>مناطق التشييك *</label>
<div class="area-list" id="areas">
  <div class="area-row"><input type="checkbox" value="Dumbbells & Bars"><span>الدمبلز والبارات</span></div>
  <div class="area-row"><input type="checkbox" value="Accessories"><span>الاكسسوارات</span></div>
  <div class="area-row"><input type="checkbox" value="Selection Area"><span>Selection</span></div>
  <div class="area-row"><input type="checkbox" value="Group Classes Area"><span>الحصص الجماعية</span></div>
  <div class="area-row"><input type="checkbox" value="FTZ Area"><span>FTZ</span></div>
  <div class="area-row"><input type="checkbox" value="TV"><span>TV</span></div>
  <div class="area-row"><input type="checkbox" value="Coaches Office"><span>مكتب المدربين</span></div>
</div>

<textarea id="notes" placeholder="ملاحظات (اختياري)"></textarea>

<button onclick="submitDaily()">إرسال</button>
</div>

</div>

<div class="success" id="success"><div class="box">✔️ تم الإرسال</div></div>
<div class="error" id="error"><div class="box error">❌ قم بإدخال كافة البيانات</div></div>

<script>
function openPage(p){
document.querySelectorAll('.page').forEach(x=>x.classList.remove('active'))
document.getElementById(p).classList.add('active')
}
function goHome(){openPage('home')}

function setDate(){
document.getElementById("datetime").value=new Date().toLocaleString()
}
setDate()

function showSuccess(){
success.style.display="flex"
setTimeout(()=>{success.style.display="none";goHome()},1500)
}
function showError(){
error.style.display="flex"
setTimeout(()=>error.style.display="none",1500)
}

function submitDaily(){
let coach=coachInput.value.trim()
let selected=[...document.querySelectorAll('#areas input:checked')].map(x=>x.value)
if(!coach||selected.length===0){showError();return}

fetch("https://docs.google.com/forms/d/e/1FAIpQLSfnfa-TV_a5gQ0qKTvgNRVsPWCLAFBCknL3MSDm3iGBy0kjnQ/formResponse",{
method:"POST",mode:"no-cors",
body:new URLSearchParams({
"entry.1598276908":coach,
"entry.670685014":datetime.value,
"entry.793034521":selected.join(", "),
"entry.987129842":notes.value
})
})

coachInput.value=""
notes.value=""
document.querySelectorAll('#areas input').forEach(x=>x.checked=false)
setDate()
showSuccess()
}

const coachInput=document.getElementById("coach")
</script>

</body>
</html>
