<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FT Tracker</title>

<style>
body {
    font-family: Arial, sans-serif;
    margin: 0;
    background: #f5f5f5;
}

header {
    background: #b30000;
    color: white;
    padding: 15px;
    text-align: center;
    font-size: 22px;
}

.container {
    padding: 20px;
}

button {
    width: 100%;
    padding: 15px;
    margin: 10px 0;
    background: #b30000;
    color: white;
    border: none;
    border-radius: 30px;
    font-size: 18px;
    cursor: pointer;
}

input, select {
    width: 100%;
    padding: 12px;
    margin: 8px 0;
    border-radius: 10px;
    border: 1px solid #ccc;
    font-size: 16px;
}

.hidden {
    display: none;
}

.success-box {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: #1f8f1f;
    color: white;
    padding: 25px 35px;
    border-radius: 15px;
    font-size: 20px;
    z-index: 9999;
    display: none;
}
</style>
</head>

<body>

<header>FT Tracker</header>

<div class="container" id="home">
    <button onclick="show('daily')">التشييك اليومي</button>
    <button onclick="show('detailed')">التشييك الدقيق</button>
    <button onclick="show('leads')">العملاء المرشحين</button>
    <button onclick="show('business')">Business Plan</button>
</div>

<!-- SUCCESS MESSAGE -->
<div class="success-box" id="successBox">✅ تم الإرسال بنجاح</div>

<!-- DAILY CHECK -->
<div class="container hidden" id="daily">
<button onclick="back()">العودة للرئيسية</button>
<form onsubmit="sendForm(event, dailyURL)">
<input required placeholder="اسم المدرب" name="entry.1598276908">
<input required placeholder="التاريخ والوقت" name="entry.670685014">
<input required placeholder="ملاحظات" name="entry.987129842">
<button>إرسال</button>
</form>
</div>

<!-- DETAILED CHECK -->
<div class="container hidden" id="detailed">
<button onclick="back()">العودة للرئيسية</button>
<form onsubmit="sendForm(event, detailedURL)">
<input required placeholder="اسم المدرب" name="entry.1110574157">
<input required placeholder="اسم الفرع" name="entry.225813099">
<input required placeholder="التاريخ" name="entry.472300684">

<select name="entry.1420106518" required>
<option value="">حالة الجهاز</option>
<option>جيدة</option>
<option>يوجد صيانة</option>
</select>

<input placeholder="اسم الجهاز" name="entry.1131993998">
<input placeholder="رقم السيريال" name="entry.1894843047">
<input placeholder="رقم الطلب" name="entry.971797645">
<input placeholder="شرح العطل" name="entry.95041345">

<button>إرسال</button>
</form>
</div>

<!-- LEADS -->
<div class="container hidden" id="leads">
<button onclick="back()">العودة للرئيسية</button>

<div id="leadsList"></div>

<button onclick="addLead()">➕ إضافة عميل</button>
<button onclick="removeLead()">➖ حذف عميل</button>

<button onclick="submitLeads()">إرسال</button>
</div>

<!-- BUSINESS PLAN -->
<div class="container hidden" id="business">
<button onclick="back()">العودة للرئيسية</button>

<form onsubmit="sendForm(event, businessURL)">
<input required placeholder="اسم المدرب" name="entry.604321945">
<input required placeholder="اسم العميل" name="entry.527541380">
<input required placeholder="رقم الجوال" name="entry.1075210553">

<select name="entry.155970344" required>
<option value="">اختر العقد الحالي</option>
<option>6 Sessions</option>
<option>12 Sessions</option>
<option>24 Sessions</option>
<option>50 Sessions</option>
<option>6 Buddy Sessions</option>
<option>12 Buddy Sessions</option>
<option>24 Buddy Sessions</option>
<option>50 Buddy Sessions</option>
<option>12 Sessions XTREME Fitness</option>
<option>36 Sessions XTREME Fitness</option>
<option>72 Sessions XTREME Fitness</option>
<option>144 Sessions XTREME Fitness</option>
<option>3 Session Box 12</option>
<option>6 Session Box 12</option>
<option>12 Session Box 12</option>
<option>24 Session Box 12</option>
<option>36 Session Box 12</option>
</select>

<select name="entry.108593185" required>
<option value="">اختر العقد الجديد</option>
<option>6 Sessions</option>
<option>12 Sessions</option>
<option>24 Sessions</option>
<option>50 Sessions</option>
<option>6 Buddy Sessions</option>
<option>12 Buddy Sessions</option>
<option>24 Buddy Sessions</option>
<option>50 Buddy Sessions</option>
<option>12 Sessions XTREME Fitness</option>
<option>36 Sessions XTREME Fitness</option>
<option>72 Sessions XTREME Fitness</option>
<option>144 Sessions XTREME Fitness</option>
<option>3 Session Box 12</option>
<option>6 Session Box 12</option>
<option>12 Session Box 12</option>
<option>24 Session Box 12</option>
<option>36 Session Box 12</option>
</select>

<input required type="date" name="entry.1639499218">
<input required placeholder="سعر العقد" name="entry.1435403128">
<input placeholder="ملاحظات" name="entry.1514819387">

<button>إرسال</button>
</form>
</div>

<script>
const dailyURL = "https://docs.google.com/forms/d/e/1FAIpQLSfnfa-TV_a5gQ0qKTvgNRVsPWCLAFBCknL3MSDm3iGBy0kjnQ/formResponse";
const detailedURL = "https://docs.google.com/forms/d/e/1FAIpQLSfW5kklovyvVTCTugqPhqZQQxYdsxxjCqKHlWwWzsFLRyMb6w/formResponse";
const leadsURL = "https://docs.google.com/forms/d/e/1FAIpQLSesXlFqpKwTxoMKyNmIJhAkuaZrzIA5KJmYwEM5dpdbZNhZFA/formResponse";
const businessURL = "https://docs.google.com/forms/d/e/1FAIpQLSc5x-yHCTEvn6ja4NrOIWijW4qIx3VQigznZqzpmlWa4PvmHw/formResponse";

function show(id){
    document.querySelectorAll('.container').forEach(c=>c.classList.add('hidden'));
    document.getElementById(id).classList.remove('hidden');
}

function back(){
    show('home');
}

function success(){
    const box = document.getElementById('successBox');
    box.style.display = 'block';
    setTimeout(()=> box.style.display='none', 1000);
    back();
}

function sendForm(e, url){
    e.preventDefault();
    fetch(url, { method:'POST', body:new FormData(e.target), mode:'no-cors' });
    e.target.reset();
    success();
}

// LEADS
function addLead(){
    const div = document.createElement('div');
    div.innerHTML = `
        <input placeholder="اسم العميل" class="lname">
        <input placeholder="رقم الجوال" class="lphone">
    `;
    document.getElementById('leadsList').appendChild(div);
}

function removeLead(){
    const list = document.getElementById('leadsList');
    if(list.lastChild) list.removeChild(list.lastChild);
}

function submitLeads(){
    document.querySelectorAll('#leadsList div').forEach(d=>{
        const data = new FormData();
        data.append('entry.1803783309', d.querySelector('.lname').value);
        data.append('entry.2087664957', d.querySelector('.lphone').value);
        fetch(leadsURL,{method:'POST',body:data,mode:'no-cors'});
    });
    document.getElementById('leadsList').innerHTML = '';
    success();
}
</script>

</body>
</html>
